#!/bin/bash
# Claude Interceptor for 'python3' command

# Check for bypass flags
if [[ "$CLAUDE_INTERCEPTOR_BYPASS" == "1" ]] || [[ "$*" == *"--force"* ]]; then
    exec /usr/bin/python3 "$@"
    exit $?
fi

echo "âŒ Direct python3 usage detected!"
echo ""
echo "ğŸ¤– AI Agent Instructions:"
echo "  For better dependency management, consider:"
echo "  ğŸ“¦ uv run $*"
echo "  ğŸ“¦ python3 -m venv venv && source venv/bin/activate && python3 $*"
echo ""
echo "ğŸ”§ To proceed anyway:"
echo "  python3 --force $*"
echo "  CLAUDE_INTERCEPTOR_BYPASS=1 python3 $*"
echo ""
echo "ğŸ’¡ Learn more: https://docs.astral.sh/uv/"
echo "ğŸ”§ Disable globally: claude-interceptor disable"

exit 1