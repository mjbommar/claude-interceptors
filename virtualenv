#!/bin/bash
# Claude Interceptor for 'virtualenv' command

# Check for bypass flags
if [[ "$CLAUDE_INTERCEPTOR_BYPASS" == "1" ]] || [[ "$*" == *"--force"* ]]; then
    # Find the real virtualenv executable
    REAL_VIRTUALENV=$(command -v virtualenv | grep -v "$(dirname "$0")" | head -n1)
    if [[ -n "$REAL_VIRTUALENV" ]]; then
        exec "$REAL_VIRTUALENV" "$@"
    else
        echo "‚ùå virtualenv not found in system PATH"
        exit 1
    fi
fi

echo "‚ùå virtualenv detected!"
echo ""
echo "ü§ñ AI Agent Instructions:"
echo "  Choose a modern virtual environment tool:"
echo "  üì¶ uv venv $*                           # Ultra-fast virtual environments"
echo "  üì¶ python -m venv $*                    # Built-in Python venv (Python 3.3+)"
echo ""
echo "üí° Why switch?"
echo "  ‚Ä¢ uv venv: 10-100x faster than virtualenv"
echo "  ‚Ä¢ python -m venv: No extra dependencies, built into Python"
echo "  ‚Ä¢ Both create standard virtual environments"
echo ""
echo "üîß To proceed with virtualenv anyway:"
echo "  virtualenv --force $*"
echo "  CLAUDE_INTERCEPTOR_BYPASS=1 virtualenv $*"